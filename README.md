
# Image Generation Web App

Этот проект представляет собой веб-приложение на Flask для генерации изображений на основе текстовых промптов. Приложение использует два внешних API: Ollama для улучшения пользовательских промптов и Kandinsky для генерации изображений.

## Описание

Приложение позволяет пользователю ввести текстовый запрос (промпт), который затем улучшается с помощью API Ollama. Затем улучшенный промпт используется для генерации изображения с помощью API Kandinsky. Полученное изображение возвращается пользователю в формате Base64.

## Установка

### 1. Клонирование репозитория

```bash
git clone https://github.com/2gW94/OllamaKan.git
cd repository
```

### 2. Создание и активация виртуального окружения (опционально)

```bash
python3 -m venv venv
source venv/bin/activate  # Для Windows: venv\Scripts\activate
```

### 3. Установка зависимостей

Убедитесь, что у вас установлен Python версии 3.7 или выше. Установите необходимые зависимости:

```bash
pip install -r requirements.txt
```

## Конфигурация

Перед запуском приложения, убедитесь, что у вас есть доступ к API Ollama и Kandinsky, и замените соответствующие значения в коде на ваши собственные:

- URL для Ollama: `http://localhost:11434/api/generate`
- API ключ и секрет для Kandinsky: замените значения в `Text2ImageAPI` на свои.

```python
kandinsky_api = Text2ImageAPI('https://api-key.fusionbrain.ai/', "ВАШ_API_KEY", "ВАШ_SECRET_KEY")
```

## Запуск

Чтобы запустить приложение, выполните следующую команду:

```bash
python app.py
```

После этого, откройте браузер и перейдите по адресу `http://127.0.0.1:5000/`, чтобы начать пользоваться приложением.

## Использование

1. Введите текстовый запрос (промпт) в поле ввода.
2. Нажмите кнопку "Сгенерировать".
3. Подождите, пока промпт будет улучшен и изображение сгенерировано.
4. Получите изображение в формате Base64, которое можно использовать по вашему усмотрению.

## Пример

Пример запроса:

```
Сгенерируйте изображение леса в тумане с озером на переднем плане.
```

Пример улучшенного запроса и сгенерированного изображения:

```
Improved Prompt: Create a misty forest scene with a lake in the foreground, capturing the serene and tranquil atmosphere of nature.
```

## Зависимости

- Flask
- requests
- json

Все зависимости указаны в `requirements.txt`.

## Лицензия

Этот проект распространяется под лицензией MIT.
